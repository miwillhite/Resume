!!! 5

%html
  %head
    %meta{ :charset => "utf-8" }
    %meta{ :name => "description", :content => "Resumé for Matthew Willhite" }
    %meta{ :name => "robots", :content => "noindex" }

    %title Matthew Willhite | Resumé
    
    %link{ :rel => "shortcut icon", :href => "/images/favicon.ico" } 
    %link{ :rel => "stylesheet", :href => "/stylesheets/styles.css" }
    
    /[if IE]
      %script{ :src => "http://html5shiv.googlecode.com/svn/trunk/html5.js" }
    
    %script{ :src => "http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" }
    
    :javascript
      $(function(){
          $('.container img:gt(0)').hide();
          
          var images = $('.container img'), position = 0;
          var imageLength = images.length - 1;
          
          var printCaption = function( caption ) {
            $('.image_caption').text( caption );
          };
          
          var nextImage = function() {
            position = position === imageLength ? 0 : position += 1;
          
            images.eq( position - 1 ).fadeOut( 150 );
            images.eq( position ).fadeIn( 150 );
            
            printCaption( images.eq( position ).attr( 'alt' ) );
          };

          var previousImage = function() {
            position = position === 0 ? imageLength : position -= 1;
          
            images.eq(position + 1).fadeOut( 150 );
            images.eq(position).fadeIn( 150 );
            
            printCaption( images.eq( position ).attr( 'alt' ) );
          };
          
          
          $('.next').click( function(e) {
            e.preventDefault();
            
            nextImage();
          });

          $('.previous').click( function(e) {
            e.preventDefault();
            
            previousImage();
          });
          // setInterval( nextImage, 3000 );
          
          // Should I just do a 1-9, then have it auto rotate?
      });
    
  %body
    
  
    %header
      %nav
        %ul
          %li<
            = link_to_unless_current "Resum&eacute", "/"
          %li<
            = link_to_unless_current "Work", "/work"
          %li<
            = link_to_unless_current "Case Study (Current Work)", "/case-study"
    
      %img{ :src => Gravatar.new("matthew.willhite@gmail.com").image_url, :alt => "Picture of Matthew Willhite" } 
      %h1 Matthew Willhite
      %ol
        %li<
          %a{ :href => "mailto:matthew.willhite@gmail.com?subject=Come%20work%20for%20us%21" } matthew.willhite@gmail.com
        %li<
          miwillhite on 
          %a{ :href => "http://github.com/miwillhite" } github 
          |
          %a{ :href => "http://twitter.com/miwillhite" } twitter

        %li 1-503-777-7365
  
    %section
      = yield
    
    %footer
      %p<
        \# This is a Sinatra 1.0 application written in Haml/Sass, using HTML5 Markup. 
        %br<
        ="# (c) #{Time.now.year}. Matthew Willhite. All rights reserved."